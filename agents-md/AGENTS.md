# AGENTS.md - General Project Template

## はじめに
このファイルはOpenAI Codexがプロジェクトのコンテキストとガイドラインを理解するためのドキュメントです。プロジェクトの構造、規約、ベストプラクティスに従ってタスクを実行してください。

## 1. コードベースのナビゲーションとアーキテクチャ

### ディレクトリ構造
```
project-root/
├── src/           # ソースコード
├── tests/         # テストファイル
├── docs/          # ドキュメント
├── config/        # 設定ファイル
└── scripts/       # ビルド・デプロイスクリプト
```

### 主要なアーキテクチャパターン
- レイヤードアーキテクチャを採用
- 関心の分離を徹底
- 依存性注入を活用
- デザインパターンの適切な適用

## 2. コードスタイルとフォーマット

### フォーマット規則
- 言語に応じた標準フォーマッタを使用
- 一貫したインデント（スペース）
- 意味のある命名規則の採用
- コメントは簡潔で説明的に

### 実行コマンド
- フォーマット: `npm run format` または `black .`
- リンタ: `npm run lint` または `flake8 .`

## 3. テストプロトコル

### テスト規則
- 新機能には必ずテストを作成
- テストカバレッジ80%以上を維持
- 単体テスト、結合テスト、E2Eテストを適切に実装

### 実行コマンド
- 全テスト実行: `npm test` または `pytest`
- カバレッジ確認: `npm run coverage` または `pytest --cov`

## 4. ビルドプロセスと環境設定

### ビルド手順
- 依存関係のインストール
- 環境変数の設定
- ビルドプロセスの実行
- デプロイ準備

### 実行コマンド
- 開発環境: `npm run dev` または `python run.py`
- 本番ビルド: `npm run build` または `python setup.py build`

## 5. コミットメッセージ規約

### フォーマット
```
type(scope): description

- feat: 新機能
- fix: バグ修正
- docs: ドキュメント更新
- style: フォーマット変更
- refactor: リファクタリング
- test: テスト追加・修正
- chore: その他の変更
```

### 例
- `feat(auth): add user login functionality`
- `fix(api): resolve null pointer exception`

## 6. プルリクエスト（PR）指示

### PRタイトル形式
- `[Type] Brief description of changes`

### PR説明テンプレート
- 変更内容の概要
- 変更理由
- テスト方法
- スクリーンショット（UI変更の場合）
- 関連イシューへのリンク

## 7. プロジェクト全般のガイドライン

### 開発原則
- DRY（Don't Repeat Yourself）の原則
- SOLID原則の遵守
- セキュリティファーストの開発
- パフォーマンスを意識した実装

### 推奨事項
- 既存ユーティリティの再利用を優先
- 新しい依存関係導入前に議論
- 大規模なリファクタリングはイシューで事前提案
- コードレビューの積極的な実施

## 8. レビューチェックリスト（Codex PR用）

Codexが作成したPRのレビュー時に確認すべき項目：

### 機能要件
- [ ] 要求された機能が完全に実装されているか
- [ ] エッジケースが適切に処理されているか
- [ ] エラーハンドリングが適切に実装されているか

### コード品質
- [ ] コードスタイルがプロジェクト基準に準拠しているか
- [ ] 命名規則が一貫しているか
- [ ] 適切なコメント・ドキュメントが含まれているか

### テスト
- [ ] 新しい機能にテストが含まれているか
- [ ] 既存テストが失敗していないか
- [ ] テストカバレッジが維持されているか

### セキュリティ
- [ ] 入力値の検証が適切に行われているか
- [ ] 認証・認可が適切に実装されているか
- [ ] 機密情報の取り扱いが適切か

### パフォーマンス
- [ ] 不要な処理やループがないか
- [ ] 適切なデータ構造が使用されているか
- [ ] メモリリークの可能性がないか
